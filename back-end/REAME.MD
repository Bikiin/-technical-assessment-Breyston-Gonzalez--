# üöó Backend - Cars API

Este proyecto es una **API REST en C# con ASP.NET Core** que permite consultar marcas de autos almacenadas en una base de datos PostgreSQL. Est√° desarrollado con buenas pr√°cticas de arquitectura, pruebas automatizadas y un flujo de despliegue similar al de un entorno real.

---

## üì¶ Arquitectura general

- La API expone un endpoint para consultar todas las marcas de autos.
- Las migraciones y el seed de datos se gestionan desde un contenedor independiente, simulando el comportamiento de pipelines en entornos reales.
- Las pruebas unitarias tienen una cobertura del 100% y se ejecutan de forma autom√°tica dentro de su propio contenedor, deteniendo el proceso si alguna falla.

---

## ‚ñ∂Ô∏è Ejecuci√≥n del entorno

Para levandar el entorno se usa el comando:

`docker compose up`

Al iniciar el entorno, se levantan tres contenedores:

- **api-prod**: servicio principal de la API REST
- **db**: base de datos PostgreSQL
- **tests**: ejecuta las pruebas unitarias autom√°ticamente

<p align="center">
  <img src="./assets/test-coverage.png" alt="Test Coverage" height="250" />
</p>

---

## üõ†Ô∏è Migraciones y seed de datos

La ejecusion de la migracion se hace con el comando:

`docker compose up migrate`

Una vez que el backend se encuentra corriendo y escuchando en el puerto correspondiente, se ejecuta un contenedor aparte llamado `migrate`, que:

- Instala `dotnet-ef`
- Aplica la migraci√≥n `InitialCreate`
- Carga datos semilla en la tabla `AutoBrands`

Este enfoque hace √©nfasis en la separaci√≥n de responsabilidades, alineado con las buenas pr√°cticas de despliegue, donde las migraciones se ejecutan como pasos independientes y no dentro del ciclo de vida de la aplicaci√≥n.

---

## üìé Endpoint disponible

Una vez el backend est√° en ejecuci√≥n, la documentaci√≥n Swagger UI est√° disponible en:

[http://localhost:8080/swagger](http://localhost:8080/swagger)

---
